### v1:
请你遵循任务执行规则，对本项目进行重构，具体完成以下任务：
1. 使用工具函数(写在util/functools.py中)判断当前是否交易日
2. 修改选股脚本(select.py)涨停股的筛选逻辑:
    - 如果今天是交易日:
        - 如果当前时间是盘前，则筛选上一个交易日是首板的股票：
            - 上个交易日首板，是指上上个交易日没有涨停，但是上一个交易日涨停。
        - 如果当前时间是盘中，则筛选出当前交易日首板的股票。
            - 当前交易日首板，是指当前交易日处于涨停涨停，但是上一个交易日没有涨停。
        - 如果当前时间是盘后，则筛选今日首板的股票：
            - 今日首板，是指今日涨停，但是昨日没有涨停。
        - 保存筛选结果到data/firstlimit.csv
    - 如果今天不是交易日，则筛选上个交易日首板的股票:
        - 上个交易日首板，是指上上个交易日没有涨停，但是上一个交易日涨停。
3. 交易执行模块(trade.py)中包含很多历史遗留的冗余代码，比如选股相关的代码。
    - 这些代码需要被移除，只保留交易执行的逻辑。

### v2:
对于在非交易日的情况，判断首板的逻辑需要修正：
1. 因为QMT库下载存储历史交易数据的时候，会忽略掉非交易日。也就是说对于历史数据，以日k线数据为举例，它是连续的交易日的数据，期间没有夹杂非交易日的条目。
2. 因此，假如当前是非交易日，xtdata库数据接口获取到的数据，它最近的一条(dataframe.iloc[-1])就是上个交易日的数据。所以首板的算法伪代码如下：
```
上个交易日K数据 = df.iloc[-1]
上上个交易日k数据 = df.iloc[-2]
上上上个交易日k数据 = df.iloc[-3]
上个交易日涨幅 = 上个交易日K数据['close'] / 上上个交易日k数据['close'] - 1
上上个交易日涨幅 = 上上个交易日k数据['close'] / 上上上个交易日k数据['close'] - 1
if 上个交易日涨幅 >= 所属市场涨停幅度 and 上上个交易日涨幅 < 所属市场涨停幅度:
    上个交易日是首板 = True
else:
    上个交易日是首板 = False
```